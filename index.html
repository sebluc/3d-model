<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wyświetlanie Modelu 3D</title>
    <script src="https://cdn.jsdelivr.net/npm/@jaeyunpark/threejs-inspector@1.3.1/dist/threejs-inspector.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            margin: 0;
            overflow: hidden; /* Zapobiega pojawianiu się pasków przewijania */
        }
        #model-viewer-container {
            width: 100vw;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #f0f0f0; /* Jasnoszary tło */
        }
        /* Dodajmy styl dla kontenera, aby model był responsywny */
        #model-viewer {
            width: 100%; /* Model zajmuje całą szerokość kontenera */
            height: 100%; /* Model zajmuje całą wysokość kontenera */
            max-width: 800px; /* Maksymalna szerokość modelu */
            max-height: 600px; /* Maksymalna wysokość modelu */
        }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/three@0.139.0/build/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.139.0/examples/js/controls/OrbitControls.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.139.0/examples/js/loaders/GLTFLoader.js"></script>
</head>
<body class="bg-gray-100">
    <div id="model-viewer-container">
        <canvas id="model-viewer"></canvas>
    </div>

    Rozumiem, model wygląda na niedoświetlony. Najprawdopodobniej problem leży w oświetleniu Three.js. Domyślna scena Three.js jest pusta, co oznacza, że ​​nie ma w niej żadnego światła. Aby model był widoczny, musisz dodać do sceny oświetlenie.W Twoim kodzie dodałeś już oświetlenie, ale wygląda na to, że jest ono niewystarczające lub nieprawidłowo skonfigurowane.Aby to naprawić, proponuję dostosować oświetlenie w Twojej scenie Three.js. Poniżej znajdziesz zmodyfikowany kod JavaScript, który zawiera dwa rodzaje oświetlenia: AmbientLight i DirectionalLight. AmbientLight oświetla wszystkie obiekty w scenie równomiernie, a DirectionalLight symuluje światło padające z określonego kierunku.<script>
        document.addEventListener('DOMContentLoaded', function() {
            const canvas = document.getElementById('model-viewer');
            const scene = new THREE.Scene();
            const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            const renderer = new THREE.WebGLRenderer({ canvas: canvas, antialias: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.setClearColor(0xf0f0f0);

            // Dodaj oświetlenie do sceny
            const ambientLight = new THREE.AmbientLight(0x404040); // Miękkie, ogólne oświetlenie
            scene.add(ambientLight);

            const directionalLight = new THREE.DirectionalLight(0xffffff, 1); // Światło kierunkowe
            directionalLight.position.set(1, 1, 2); // Ustaw pozycję światła
            scene.add(directionalLight);

            // Dodaj kontrolę orbit
            const controls = new THREE.OrbitControls(camera, renderer.domElement);
            controls.enableDamping = true;
            controls.dampingFactor = 0.1;
            controls.screenSpacePanning = true;
            controls.minDistance = 1;
            controls.maxDistance = 100;
            controls.target.set(0, 0, 0);

            camera.position.z = 5;

            // Załaduj model .glb
            const loader = new THREE.GLTFLoader();
            loader.load('model.glb', function(gltf) {
                const model = gltf.scene;
                scene.add(model);

                // Center the model
                const boundingBox = new THREE.Box3().setFromObject(model);
                const center = new THREE.Vector3();
                boundingBox.getCenter(center);
                model.position.x -= center.x;
                model.position.y -= center.y;
                model.position.z -= center.z;

                controls.target.set(model.position.x, model.position.y, model.position.z);
                controls.update();
                animate();
            }, undefined, function(error) {
                console.error('Wystąpił błąd podczas ładowania modelu:', error);
            });

            function resizeRendererToDisplaySize(renderer) {
                const canvas = renderer.domElement;
                const width = window.innerWidth;
                const height = window.innerHeight;
                const needResize = canvas.width !== width || canvas.height !== height;
                if (needResize) {
                    renderer.setSize(width, height, false);
                    camera.aspect = width / height;
                    camera.updateProjectionMatrix();
                }
                return needResize;
            }

            function animate() {
                requestAnimationFrame(animate);

                resizeRendererToDisplaySize(renderer);

                controls.update();

                renderer.render(scene, camera);
            }

            window.addEventListener('resize', function() {
                resizeRendererToDisplaySize(renderer);
            });
        });
    </script>
</body>
</html>
